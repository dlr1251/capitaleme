---
import Layout from "../../layouts/Layout.astro";
import SectionOne from "../../components/en/resources/Section_1.astro";
import { getCollection, getEntry } from 'astro:content';
const allResources = await getCollection('posts', ({ id }) => {
  return id.startsWith('en/');
});
---

<Layout title="Blog">
    <div class="mt-16 max-w-screen-lg mx-auto">
                <SectionOne/>

                {allResources.map(p => (

                    <a class="p-5 block border rounded my-4 w-1/2 hover:shadow hover:shadow-xl" href={`/blog/${p.slug.slice(3)}`}>  
                        <div class="flex justify-between">                          
                          <div class="text-sm text-slate-900">{p.data.author}</div>
                          <div class="text-sm text-slate-500">{p.data.pubDate.toString().slice(0,10)}</div>
                          </div>                      
                          <div class="text-primary text-lg font-bold mt-2">{p.data.title}</div>
                          <div class="text-sm text-slate-700">{p.data.readTime}</div>
                        <p class="font-light py-4">{p.data.description}</p>
                        <div class="flex justify-left">
                          {p.data.tags.map(t => (
                            <span class="bg-secondary text-white text-xs mx-2 rounded py-0.5 px-1.5">{t}</span>
                            ))}
                         </div>
                      </a>
                  ))}
    </div>
</Layout>
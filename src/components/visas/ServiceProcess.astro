---
// ServiceProcess.astro - Converted from React for better performance
// This component shows the visa service process steps

interface Props {
  lang?: 'en' | 'es';
}

const { lang = 'en' } = Astro.props;

// Content based on language
const content = lang === 'es' ? {
  title: "C√≥mo Funciona Nuestro Servicio",
  subtitle: "Nuestro proceso optimizado asegura que tu solicitud de visa sea manejada de manera eficiente y profesional de principio a fin.",
  steps: [
    {
      icon: "üí¨",
      title: "Consulta Inicial",
      description: "Reserva una consulta de 45 minutos donde evaluaremos tu situaci√≥n y recomendaremos la mejor opci√≥n de visa para ti.",
      features: ["Evaluaci√≥n personalizada", "Recomendaci√≥n de categor√≠a de visa", "Planificaci√≥n de cronograma"]
    },
    {
      icon: "üìÑ",
      title: "Preparaci√≥n de Documentos",
      description: "Te guiaremos en la recopilaci√≥n de todos los documentos necesarios y nos aseguraremos de que todo est√© correctamente preparado.",
      features: ["Lista de verificaci√≥n de documentos", "Servicios de traducci√≥n", "Soporte de notarizaci√≥n"]
    },
    {
      icon: "‚úÖ",
      title: "Solicitud y Seguimiento",
      description: "Manejamos todo el proceso de solicitud y te mantenemos actualizado sobre su progreso hasta la aprobaci√≥n.",
      features: ["Presentaci√≥n de solicitud", "Seguimiento de progreso", "Enlace con el gobierno"]
    },
    {
      icon: "üèÜ",
      title: "Conclusi√≥n del Servicio y Servicios Futuros",
      description: "Recibe tu visa aprobada y orientaci√≥n para futuras necesidades legales o migratorias. Permanecemos disponibles para cualquier seguimiento o servicios adicionales.",
      features: ["Entrega y revisi√≥n de visa", "Orientaci√≥n post-aprobaci√≥n", "Descuentos para clientes recurrentes"]
    }
  ],
  faqs: [
    {
      question: "¬øCu√°nto tiempo toma el proceso de visa?",
      answer: "Los tiempos de procesamiento var√≠an seg√∫n el tipo de visa y la carga de trabajo del gobierno, pero la mayor√≠a de las solicitudes se procesan dentro de 2-6 semanas despu√©s de la presentaci√≥n."
    },
    {
      question: "¬øQu√© documentos necesito proporcionar?",
      answer: "Los documentos requeridos dependen de tu tipo de visa, pero t√≠picamente incluyen tu pasaporte, formularios de solicitud, comprobante de ingresos y documentos de respaldo. Proporcionamos una lista de verificaci√≥n personalizada durante el proceso."
    },
    {
      question: "¬øPueden ayudar si mi visa es denegada?",
      answer: "S√≠, ofrecemos soporte para apelaciones y re-solicitudes, analizando las razones de la denegaci√≥n y ayud√°ndote a fortalecer tu caso."
    },
    {
      question: "¬øOfrecen servicios despu√©s de recibir mi visa?",
      answer: "¬°Absolutamente! Proporcionamos soporte legal continuo, renovaciones y asistencia con otras necesidades migratorias o legales en Colombia."
    }
  ]
} : {
  title: "How Our Service Works",
  subtitle: "Our streamlined process ensures your visa application is handled efficiently and professionally from start to finish.",
  steps: [
    {
      icon: "üí¨",
      title: "Initial Consultation",
      description: "Book a 45-minute consultation where we'll assess your situation and recommend the best visa option for you.",
      features: ["Personalized assessment", "Visa category recommendation", "Timeline planning"]
    },
    {
      icon: "üìÑ",
      title: "Document Preparation",
      description: "We'll guide you through gathering all necessary documents and ensure everything is properly prepared.",
      features: ["Document checklist", "Translation services", "Notarization support"]
    },
    {
      icon: "‚úÖ",
      title: "Application & Follow-up",
      description: "We handle the entire application process and keep you updated on its progress until approval.",
      features: ["Application submission", "Progress tracking", "Government liaison"]
    },
    {
      icon: "üèÜ",
      title: "Service Conclusion & Future Services",
      description: "Receive your approved visa and guidance for future legal or migration needs. We remain available for any follow-up or additional services.",
      features: ["Visa delivery & review", "Post-approval guidance", "Discounts for returning clients"]
    }
  ],
  faqs: [
    {
      question: "How long does the visa process take?",
      answer: "Processing times vary by visa type and government workload, but most applications are processed within 2-6 weeks after submission."
    },
    {
      question: "What documents do I need to provide?",
      answer: "Required documents depend on your visa type, but typically include your passport, application forms, proof of income, and supporting documents. We provide a personalized checklist during the process."
    },
    {
      question: "Can you help if my visa is denied?",
      answer: "Yes, we offer support for appeals and re-applications, analyzing the reasons for denial and helping you strengthen your case."
    },
    {
      question: "Do you offer services after I receive my visa?",
      answer: "Absolutely! We provide ongoing legal support, renewals, and assistance with other migration or legal needs in Colombia."
    }
  ]
};
---

<section class="py-20 bg-gradient-to-br from-gray-50 to-white">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl md:text-4xl font-bold text-primary mb-4">
        {content.title}
      </h2>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto">
        {content.subtitle}
      </p>
    </div>

    <div class="relative">
      <!-- Connection Line -->
      <div class="hidden lg:block absolute top-1/2 left-0 right-0 h-0.5 bg-gradient-to-r from-blue-200 via-purple-200 to-blue-200 transform -translate-y-1/2 z-0"></div>
      <div class="grid grid-cols-1 lg:grid-cols-4 gap-8 relative z-10">
        {content.steps.map((step, index) => (
          <div class="group relative">
            <!-- Card -->
            <div class="bg-white rounded-2xl p-8 shadow-xl border border-gray-100 hover:shadow-2xl transition-all duration-500 group-hover:scale-105 relative">
              <!-- Icon -->
              <div class="w-16 h-16 bg-gradient-to-br from-blue-100 to-purple-100 rounded-xl flex items-center justify-center mb-6 group-hover:from-blue-200 group-hover:to-purple-200 transition-all duration-300">
                <div class="text-3xl">
                  {step.icon}
                </div>
              </div>
              <!-- Content -->
              <h3 class="text-2xl font-bold text-gray-900 mb-4">
                {step.title}
              </h3>
              <p class="text-gray-600 mb-6 leading-relaxed">
                {step.description}
              </p>
              <!-- Features -->
              <ul class="space-y-2">
                {step.features.map((feature) => (
                  <li class="flex items-center text-sm text-gray-600">
                    <svg class="w-4 h-4 text-green-500 mr-2 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd"></path>
                    </svg>
                    {feature}
                  </li>
                ))}
              </ul>
            </div>
            <!-- Arrow (except for last item) -->
            {index < content.steps.length - 1 && (
              <div class="hidden lg:block absolute top-1/2 -right-4 transform -translate-y-1/2 z-20">
                <div class="w-8 h-8 bg-white rounded-full shadow-lg flex items-center justify-center">
                  <svg class="w-4 h-4 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
                    <path fill-rule="evenodd" d="M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z" clip-rule="evenodd"></path>
                  </svg>
                </div>
              </div>
            )}
          </div>
        ))}
      </div>
    </div>

    <!-- FAQ Section -->
    <div class="mt-20">
      <div class="text-center mb-12">
        <h3 class="text-2xl font-bold text-gray-900 mb-4">
          {lang === 'es' ? 'Preguntas Frecuentes' : 'Frequently Asked Questions'}
        </h3>
        <p class="text-gray-600 max-w-2xl mx-auto">
          {lang === 'es' ? 'Respuestas a las preguntas m√°s comunes sobre nuestros servicios de visa.' : 'Answers to the most common questions about our visa services.'}
        </p>
      </div>
      
      <div class="max-w-4xl mx-auto space-y-4">
        {content.faqs.map((faq) => (
          <div class="bg-white rounded-lg border border-gray-200 p-6 shadow-sm">
            <h4 class="text-lg font-semibold text-gray-900 mb-2">
              {faq.question}
            </h4>
            <p class="text-gray-600 leading-relaxed">
              {faq.answer}
            </p>
          </div>
        ))}
      </div>
    </div>
  </div>
</section> 